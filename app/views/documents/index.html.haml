%head
  %script{:type => "text/javascript", :src=> "https://code.jquery.com/jquery-3.4.1.js", :integrity=> "sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=", :crossorigin=> "anonymous"}
  %script{:type => "text/javascript", :src=> "https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js", :integrity=> "sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM", :crossorigin=> "anonymous"}
  %link{:rel => :stylesheet, :type => "text/css", :href => "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css", :crossorigin=>"anonymous"}
  = stylesheet_link_tag "https://fonts.googleapis.com/icon?family=Material+Icons", "documents"

%div.header
  %div.container
    %div.header-body
      %div.row.align-items-center
        %div.col
          %ul.nav.nav-tabs.nav-overflow.card-header-tabs
            %li.nav-item
              = link_to 'Details', animal_path(@animal), :class => "nav-link"
            %li.nav-item
              = link_to 'Diet', animal_path(@animal), :class => "nav-link"
            %li.nav-item
              = link_to 'Documents', animal_documents_path, :class => "nav-link active"

%div.container
  %div.row
    %div.col-12
      .card{"data-toggle" => "lists", "data-options" => '{"valueNames": ["name"]}'.html_safe}
        %div.card-header
          %div.row.align-items-center
            %div.col
              %h4.card-header-title Files - #{@animal.name}
            %div.col-auto
              %div.dropdown
            %div.col-auto
              %button.UppyModalOpenerBtn.btn.btn-sm.btn-outline-primary Upload
              %div.DashboardContainer
              = form_with model: @animal, id: "form-uppy"
              = javascript_pack_tag 'uppy'
        %div.card-header
          %div.row
            %div.col-12
              %div.input-group.input-group-flush.input-group-merge
                %input.form-control.form-control-prepended.search{:type => "search", :placeholder => "Search"}
                %div.input-group-prepend
                  %div.input-group-text
                    %span.material-icons.md-18 search
        %div.card-body
          %ul.list-group.list-group-lg.list-group-flush.list.my-n4
            - @documents.each do |document|
              %li.list-group-item.px-0
                %div.row.align-items-center
                  %div.col-auto
                    %a.avatar.avatar-lg{:href => "#!"}
                      %img.avatar-img.rounded{:src => document.file_url(:small), :alt => "..."}
                  %div.col.m1-n2
                    %h4.card-title.mb-1.name
                      = link_to document.file.original_filename, animal_documents_path
                    %p.card-text.small.text-muted.mb-1 Type
                  %div.col-auto
                    = link_to 'Download', animal_documents_path, :class => "btn btn-sm btn-white d-none d-md-inline-block"
                  %div.col-auto
                    %a.dropdown-ellipses.dropdown-toggle{:href => "#", :role => "button", "data-toggle" => "dropdown", "aria-haspopup" => "true", "aria-expanded" => "false"}
                      %i.material-icons.md-18 more_vert
  = will_paginate @documents, renderer: @custom_paginate_renderer

%table
  %thead
    %tr
      %th Thumbnail
  %tbody
    - @documents.each do |document|
      %tr
        %img{:src => document.file_url(:small)}

%script{:type => "text/javascript", :src=> "https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js", :integrity=> "sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM", :crossorigin=> "anonymous"}




